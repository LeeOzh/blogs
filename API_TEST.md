# ğŸ§ª API æ¥å£æµ‹è¯•æ–‡æ¡£

## ğŸ“‹ æ¥å£è¿”å›ç»“æ„ç»Ÿä¸€

æ‰€æœ‰æ¥å£ç°åœ¨éƒ½ä½¿ç”¨ç»Ÿä¸€çš„è¿”å›ç»“æ„ï¼Œä¸ç°æœ‰çš„ post æ¥å£ä¿æŒä¸€è‡´ï¼š

```typescript
{
  code: number,    // çŠ¶æ€ç ï¼š200 æˆåŠŸï¼Œ404 æœªæ‰¾åˆ°ï¼Œ500 æœåŠ¡å™¨é”™è¯¯
  data: any,       // è¿”å›æ•°æ®
  msg: string      // è¿”å›æ¶ˆæ¯
}
```

## ğŸ› ï¸ å·¥å…·ç›¸å…³æ¥å£

### 1. è·å–å·¥å…·åˆ—è¡¨
```http
GET /api/tools
```

**è¿”å›ç¤ºä¾‹ï¼š**
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "name": "ç”Ÿæ´»å·¥å…·",
      "icon": "ğŸ ",
      "sortOrder": 1,
      "tools": [
        {
          "id": 1,
          "name": "ç‰›é©¬ç²®é£Ÿè®¡ç®—å™¨",
          "description": "å®æ—¶è®¡ç®—å·¥èµ„æ”¶å…¥ï¼Œè®©ä½ çŸ¥é“æ¯åˆ†æ¯ç§’éƒ½åœ¨èµšé’±",
          "icon": "ğŸ’°",
          "color": "from-green-400 to-blue-500",
          "componentName": "SalaryCalculator",
          "type": "INTERNAL",
          "status": "ACTIVE",
          "clickCount": 0
        }
      ]
    }
  ],
  "msg": "success"
}
```

### 2. è®°å½•å·¥å…·ç‚¹å‡»
```http
POST /api/tools/:id/click
```

**è¿”å›ç¤ºä¾‹ï¼š**
```json
{
  "code": 200,
  "data": "success",
  "msg": "ç‚¹å‡»è®°å½•æˆåŠŸ"
}
```

### 3. è·å–çƒ­é—¨å·¥å…·
```http
GET /api/tools/popular/list?limit=10
```

### 4. æœç´¢å·¥å…·
```http
GET /api/tools/search/query?q=è®¡ç®—å™¨
```

## ğŸŒ ç½‘ç«™ç›¸å…³æ¥å£

### 1. è·å–ç½‘ç«™åˆ—è¡¨
```http
GET /api/websites
```

**è¿”å›ç¤ºä¾‹ï¼š**
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "name": "å¼€å‘å¹³å°",
      "icon": "ğŸš€",
      "sortOrder": 1,
      "websites": [
        {
          "id": 1,
          "name": "GitHub",
          "description": "å…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡å¹³å°ï¼Œå¼€å‘è€…å¿…å¤‡",
          "icon": "ğŸ™",
          "color": "from-gray-700 to-gray-900",
          "url": "https://github.com",
          "status": "ACTIVE",
          "clickCount": 0
        }
      ]
    }
  ],
  "msg": "success"
}
```

### 2. è®°å½•ç½‘ç«™ç‚¹å‡»
```http
POST /api/websites/:id/click
```

## ğŸ”§ æµ‹è¯•æ­¥éª¤

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd blogs-backend
npm run start:dev
```

### 2. æµ‹è¯•æ¥å£
ä½¿ç”¨ Postman æˆ– curl æµ‹è¯•ï¼š

```bash
# è·å–å·¥å…·åˆ—è¡¨
curl http://localhost:3000/api/tools

# è·å–ç½‘ç«™åˆ—è¡¨
curl http://localhost:3000/api/websites

# è®°å½•å·¥å…·ç‚¹å‡»
curl -X POST http://localhost:3000/api/tools/1/click

# è®°å½•ç½‘ç«™ç‚¹å‡»
curl -X POST http://localhost:3000/api/websites/1/click
```

### 3. å¯åŠ¨å‰ç«¯åº”ç”¨
```bash
cd blogs-frontend
npm start
```

### 4. éªŒè¯åŠŸèƒ½
- è®¿é—®å·¥å…·é¡µé¢ï¼ŒæŸ¥çœ‹æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºå·¥å…·å’Œç½‘ç«™
- ç‚¹å‡»å·¥å…·å’Œç½‘ç«™ï¼ŒéªŒè¯ç‚¹å‡»ç»Ÿè®¡æ˜¯å¦æ­£å¸¸
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

## ğŸ› å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥é—®é¢˜
ç¡®ä¿ PostgreSQL æœåŠ¡æ­£åœ¨è¿è¡Œï¼Œå¹¶ä¸” `.env` æ–‡ä»¶ä¸­çš„ `DATABASE_URL` é…ç½®æ­£ç¡®ã€‚

### 2. ç«¯å£å†²çª
- åç«¯é»˜è®¤ç«¯å£ï¼š3000
- å‰ç«¯é»˜è®¤ç«¯å£ï¼š8080
- ç¡®ä¿ç«¯å£æ²¡æœ‰è¢«å…¶ä»–æœåŠ¡å ç”¨

### 3. CORS é—®é¢˜
åç«¯å·²é…ç½® CORS å…è®¸å‰ç«¯è®¿é—®ï¼š
```typescript
app.enableCors({
  origin: 'http://localhost:8080',
  credentials: true,
})
```

### 4. æ•°æ®ä¸ºç©º
å¦‚æœæ¥å£è¿”å›ç©ºæ•°æ®ï¼Œè¿è¡Œ seed è„šæœ¬åˆå§‹åŒ–æ•°æ®ï¼š
```bash
cd blogs-backend
npm run db:seed
```

## âœ… éªŒè¯æ¸…å•

- [ ] åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] seed æ•°æ®åˆå§‹åŒ–å®Œæˆ
- [ ] å·¥å…·åˆ—è¡¨æ¥å£è¿”å›æ•°æ®
- [ ] ç½‘ç«™åˆ—è¡¨æ¥å£è¿”å›æ•°æ®
- [ ] ç‚¹å‡»ç»Ÿè®¡åŠŸèƒ½æ­£å¸¸
- [ ] å‰ç«¯é¡µé¢æ˜¾ç¤ºæ­£å¸¸
- [ ] æ— æ§åˆ¶å°é”™è¯¯

å®Œæˆä»¥ä¸ŠéªŒè¯åï¼Œå·¥å…·å’Œç½‘ç«™ç®¡ç†ç³»ç»Ÿå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼